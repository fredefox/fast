Program          ::= ClassDecls

ClassDecls       ::= ''
                  |  ClassDecl ClassDecls

ClassDecl        ::= 'class' Name '{'
                         ConstructorDecl NamedMethodDecls RecvDecl
                     '}'

ConstructorDecl  ::= ''
                  |  'new' '(' ParamsEntry ')' '{' Exprs '}'

NamedMethodDecls ::= ''
                  |  NamedMethodDecl NamedMethodDecls

NamedMethodDecl  ::= Name '(' ParamsEntry ')' '{' Exprs '}'

RecvDecl         ::= ''
                  |  'receive' '(' Param ')' '{' Exprs '}'

ParamsEntry      ::= ''
                  |  Params

Params           ::=  Param ParamsOpt

ParamsOpt        ::= ''
                  |  ',' Params

Param            ::= Name

ArgsEntry        ::= ''
                  |  Args

Args             ::= ExprEntry ArgsOpt

ArgsOpt          ::= ''
                  |  ',' Args

Exprs            ::= ''
                  |  ExprEntry ';' Exprs

ExprEntry        ::= Expr0
                  |  Expr1

Expr0            ::= Integer
                  |  String
                  |  Name '(' ArgsEntry')'
                  |  'self'
                  |  'return' ExprEntry
                  |  'set' 'self' '.' Name '=' ExprEntry
                  |  'set' Name '=' ExprEntry

Expr1            ::= ExprEntry '+' ExprEntry
                  |  ExprEntry '-' ExprEntry
                  |  ExprEntry '*' ExprEntry
                  |  ExprEntry '/' ExprEntry
                  |  'match' ExprEntry Cases
                  |  'send' '(' ExprEntry ',' ExprEntry ')'
                  |  ExprEntry '.' Name '(' ArgsEntry')'
                  |  'new' Name '(' ArgsEntry')'
                  |  '(' ExprEntry ')'

Cases            ::= ''
                  |  Case Cases

Case             ::= Pattern '->' '{' Exprs '}'

Pattern          ::= Integer
                  |  String
                  |  Name PatternOpt

PatternOpt       ::= '(' ParamsEntry ')'
                  |  ''
